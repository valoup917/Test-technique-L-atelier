get:
  summary: Get all players or a specific player by ID
  description: Returns all players sorted by rank (ASC) and points (DESC) if same rank, or returns a specific player if id query parameter is provided
  parameters:
    - in: query
      name: id
      schema:
        type: integer
      description: Player ID to retrieve a specific player
  responses:
    '200':
      description: A list of players or a single player
      content:
        application/json:
          schema:
            oneOf:
              - type: object
                properties:
                  players:
                    type: array
                    items:
                      $ref: '#/components/schemas/Player'
              - type: object
                properties:
                  player:
                    $ref: '#/components/schemas/Player'
    '400':
      $ref: '#/components/responses/BadRequest'
    '404':
      $ref: '#/components/responses/NotFound'
    '500':
      $ref: '#/components/responses/ServerError'

post:
  summary: Create a new player
  description: Creates a new player in the database
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/Player'
  responses:
    '201':
      description: Player created successfully
      headers:
        Location:
          schema:
            type: string
          description: URL to the created player resource
      content:
        application/json:
          schema:
            type: object
            properties:
              player:
                $ref: '#/components/schemas/Player'
    '400':
      description: Bad request, invalid input
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Bad Request
              details:
                type: array
                items:
                  type: string
                example: ["id", "weight (exceeds integer range)"]
    '409':
      $ref: '#/components/responses/Conflict'
    '500':
      $ref: '#/components/responses/ServerError'
